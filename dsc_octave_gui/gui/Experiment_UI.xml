<?xml version="1.0" encoding="UTF-8"?>
<dialog Color="[0.941 0.941 0.941]" HPosition="center" Name="Experiment_UI" Position="[0 720 1280 720]" Resize="off" VPosition="center" windowStyle="normal">
    <GlobalSrc>%
% The source code writed here will be executed when
% windows load. Work like 'onLoad' event of other languages.
%

% Initialize the struct to prevent errors
Data = struct('Kp', 0, 'Ki', 0, 'Kd', 0, ...
    'startTemp', 0, 'endTemp', 0, 'rampUpRate', 0, ...
    'holdTime', 0, 'startDateTime', datestr(clock()));

%app.SerialPortEditField.Value = '';

%initializeSerialPort(app);

% Set title and labels for plot
title(dlg.Main_Plot, 'Temperature vs. Time');
xlabel(dlg.Main_Plot, 'Time (sec)');
ylabel(dlg.Main_Plot, 'Temperature (C)');

% Create the animatedline objects
%TargetLine = animatedline(dlg.Main_Plot, 'Color', 'black', 'LineStyle', ':');
%RefSampleLine = animatedline(dlg.Main_Plot, 'Color', 'blue', 'LineStyle', '-');
%TestSampleLine = animatedline(dlg.Main_Plot, 'Color', 'red', 'LineStyle', '-');

% Create a legend for the temperature plot
%legend(dlg.Main_Plot, 'Target Temperature', 'Reference Sample', 'Test Sample', 'Location', 'best')
%legend(dlg.Main_Plot, 'Location', 'best')

%setIdleUI(app);
</GlobalSrc>
    <uiControl class="imgCtrl" FontAngle="normal" FontName="Arial" FontSize="10" FontWeight="normal" Name="Main_Plot" Position="[240 40 820 600]"/>
    <uiControl class="buttonCtrl" BackgroundColor="[0.941 0.941 0.941]" FontAngle="normal" FontName="Arial" FontSize="10" FontWeight="normal" ForegroundColor="[0.000 0.000 0.000]" GenerateCallBack="true" Name="Button_1" Position="[5 5 180 44]" String="Start Experiment" TooltipString="">% This code will be executed when user click the button control.
% As default, all events are deactivated, to activate must set the
% propertie 'generateCallback' from the properties editor</uiControl>
    <uiControl class="buttonCtrl" BackgroundColor="[0.941 0.941 0.941]" FontAngle="normal" FontName="Arial" FontSize="10" FontWeight="normal" ForegroundColor="[0.000 0.000 0.000]" GenerateCallBack="true" Name="Button_2" Position="[5 55 180 44]" String="Stop Experiment" TooltipString="">% This code will be executed when user click the button control.
% As default, all events are deactivated, to activate must set the
% propertie 'generateCallback' from the properties editor</uiControl>
    <uiControl class="buttonCtrl" BackgroundColor="[0.941 0.941 0.941]" FontAngle="normal" FontName="Arial" FontSize="10" FontWeight="normal" ForegroundColor="[0.000 0.000 0.000]" GenerateCallBack="true" Name="Button_3" Position="[5 105 180 44]" String="Load Config File" TooltipString="">% This code will be executed when user click the button control.
% As default, all events are deactivated, to activate must set the
% propertie 'generateCallback' from the properties editor</uiControl>
    <uiControl class="buttonCtrl" BackgroundColor="[0.941 0.941 0.941]" FontAngle="normal" FontName="Arial" FontSize="10" FontWeight="normal" ForegroundColor="[0.000 0.000 0.000]" GenerateCallBack="true" Name="Button_4" Position="[5 155 180 44]" String="Sync to Arduino" TooltipString="">% This code will be executed when user click the button control.
% As default, all events are deactivated, to activate must set the
% propertie 'generateCallback' from the properties editor</uiControl>
    <uiControl class="cmbCtrl" BackgroundColor="[0.941 0.941 0.941]" FontAngle="normal" FontName="Arial" FontSize="10" FontWeight="normal" ForegroundColor="[0.000 0.000 0.000]" GenerateCallBack="false" Name="ComboBox_1" Position="[110 600 70 25]" String="COM1|COM2|COM3" TooltipString=""/>
    <uiControl class="textCtrl" BackgroundColor="[0.941 0.941 0.941]" FontAngle="normal" FontName="Arial" FontSize="10" FontWeight="normal" ForegroundColor="[0.000 0.000 0.000]" GenerateCallBack="false" HorizontalAlignment="left" isAutoSize="true" Name="Serial_Port_Label" Position="[10 605 61 16]" String="Serial Port" TooltipString=""/>
    <uiControl class="buttonCtrl" BackgroundColor="[0.941 0.941 0.941]" FontAngle="normal" FontName="Arial" FontSize="10" FontWeight="normal" ForegroundColor="[0.000 0.000 0.000]" GenerateCallBack="true" Name="Button_5" Position="[5 635 180 44]" String="Set Serial Port" TooltipString="">% This code will be executed when user click the button control.
% As default, all events are deactivated, to activate must set the
% propertie 'generateCallback' from the properties editor</uiControl>
    <uiControl class="groupPanel" BackgroundColor="[0.863 0.863 0.863]" BorderWidth="1" FontAngle="normal" FontName="Arial" FontSize="10" FontWeight="normal" ForegroundColor="[0.000 0.000 0.000]" Name="GroupPanel_1" Position="[5 220 180 145]" Title="Experiment Parameters" TitlePosition="lefttop">
        <ContainerSrc/>
        <uiControl class="textCtrl" BackgroundColor="[0.941 0.941 0.941]" FontAngle="normal" FontName="Arial" FontSize="10" FontWeight="normal" ForegroundColor="[0.000 0.000 0.000]" GenerateCallBack="false" HorizontalAlignment="left" isAutoSize="true" Name="Start_Temp_Label" Position="[10 25 84 16]" String="Start Temp (C)" TooltipString=""/>
        <uiControl class="editCtrl" BackgroundColor="[1.000 1.000 1.000]" FontAngle="normal" FontName="Arial" FontSize="10" FontWeight="normal" ForegroundColor="[0.000 0.000 0.000]" GenerateCallBack="false" HorizontalAlignment="left" Name="Edit_1" Position="[110 25 60 22]" String="0" TooltipString="">% This code will be executed when the control lost focus and text has
% been changed or when press the &quot;enter&quot; key.
% As default, all events are deactivated, to activate must set the
% propertie 'have callback' from the properties editor</uiControl>
        <uiControl class="textCtrl" BackgroundColor="[0.941 0.941 0.941]" FontAngle="normal" FontName="Arial" FontSize="10" FontWeight="normal" ForegroundColor="[0.000 0.000 0.000]" GenerateCallBack="false" HorizontalAlignment="left" isAutoSize="true" Name="End_Temp_Label" Position="[10 55 79 16]" String="End Temp (C)" TooltipString=""/>
        <uiControl class="editCtrl" BackgroundColor="[1.000 1.000 1.000]" FontAngle="normal" FontName="Arial" FontSize="10" FontWeight="normal" ForegroundColor="[0.000 0.000 0.000]" GenerateCallBack="false" HorizontalAlignment="left" Name="Edit_2" Position="[110 55 60 22]" String="0" TooltipString="">% This code will be executed when the control lost focus and text has
% been changed or when press the &quot;enter&quot; key.
% As default, all events are deactivated, to activate must set the
% propertie 'have callback' from the properties editor</uiControl>
        <uiControl class="textCtrl" BackgroundColor="[0.941 0.941 0.941]" FontAngle="normal" FontName="Arial" FontSize="10" FontWeight="normal" ForegroundColor="[0.000 0.000 0.000]" GenerateCallBack="false" HorizontalAlignment="left" isAutoSize="true" Name="Rate_Label" Position="[10 85 73 16]" String="Rate (C/min)" TooltipString=""/>
        <uiControl class="textCtrl" BackgroundColor="[0.941 0.941 0.941]" FontAngle="normal" FontName="Arial" FontSize="10" FontWeight="normal" ForegroundColor="[0.000 0.000 0.000]" GenerateCallBack="false" HorizontalAlignment="left" isAutoSize="true" Name="Hold_Time_Label" Position="[10 115 91 16]" String="Hold Time (sec)" TooltipString=""/>
        <uiControl class="editCtrl" BackgroundColor="[1.000 1.000 1.000]" FontAngle="normal" FontName="Arial" FontSize="10" FontWeight="normal" ForegroundColor="[0.000 0.000 0.000]" GenerateCallBack="false" HorizontalAlignment="left" Name="Edit_3" Position="[110 85 60 22]" String="0" TooltipString="">% This code will be executed when the control lost focus and text has
% been changed or when press the &quot;enter&quot; key.
% As default, all events are deactivated, to activate must set the
% propertie 'have callback' from the properties editor</uiControl>
        <uiControl class="editCtrl" BackgroundColor="[1.000 1.000 1.000]" FontAngle="normal" FontName="Arial" FontSize="10" FontWeight="normal" ForegroundColor="[0.000 0.000 0.000]" GenerateCallBack="false" HorizontalAlignment="left" Name="Edit_4" Position="[110 115 60 22]" String="0" TooltipString="">% This code will be executed when the control lost focus and text has
% been changed or when press the &quot;enter&quot; key.
% As default, all events are deactivated, to activate must set the
% propertie 'have callback' from the properties editor</uiControl>
    </uiControl>
    <uiControl class="editCtrl" BackgroundColor="[1.000 1.000 1.000]" FontAngle="normal" FontName="Arial" FontSize="10" FontWeight="normal" ForegroundColor="[0.000 0.000 0.000]" GenerateCallBack="false" HorizontalAlignment="left" Name="Edit_5" Position="[1195 15 60 22]" String="0.00" TooltipString="">% This code will be executed when the control lost focus and text has
% been changed or when press the &quot;enter&quot; key.
% As default, all events are deactivated, to activate must set the
% propertie 'have callback' from the properties editor</uiControl>
    <uiControl class="editCtrl" BackgroundColor="[1.000 1.000 1.000]" FontAngle="normal" FontName="Arial" FontSize="10" FontWeight="normal" ForegroundColor="[0.000 0.000 0.000]" GenerateCallBack="false" HorizontalAlignment="left" Name="Edit_6" Position="[1195 50 60 22]" String="0.00" TooltipString="">% This code will be executed when the control lost focus and text has
% been changed or when press the &quot;enter&quot; key.
% As default, all events are deactivated, to activate must set the
% propertie 'have callback' from the properties editor</uiControl>
    <uiControl class="groupPanel" BackgroundColor="[0.941 0.941 0.941]" BorderWidth="1" FontAngle="normal" FontName="Arial" FontSize="10" FontWeight="normal" ForegroundColor="[0.000 0.000 0.000]" Name="GroupPanel_2" Position="[1075 100 180 115]" Title="Reference Sample Live Data" TitlePosition="lefttop">
        <ContainerSrc/>
        <uiControl class="editCtrl" BackgroundColor="[1.000 1.000 1.000]" FontAngle="normal" FontName="Arial" FontSize="10" FontWeight="normal" ForegroundColor="[0.000 0.000 0.000]" GenerateCallBack="false" HorizontalAlignment="left" Name="Edit_7" Position="[110 25 60 22]" String="0.00" TooltipString="">% This code will be executed when the control lost focus and text has
% been changed or when press the &quot;enter&quot; key.
% As default, all events are deactivated, to activate must set the
% propertie 'have callback' from the properties editor</uiControl>
        <uiControl class="editCtrl" BackgroundColor="[1.000 1.000 1.000]" FontAngle="normal" FontName="Arial" FontSize="10" FontWeight="normal" ForegroundColor="[0.000 0.000 0.000]" GenerateCallBack="false" HorizontalAlignment="left" Name="Edit_8" Position="[110 55 60 22]" String="0.00" TooltipString="">% This code will be executed when the control lost focus and text has
% been changed or when press the &quot;enter&quot; key.
% As default, all events are deactivated, to activate must set the
% propertie 'have callback' from the properties editor</uiControl>
        <uiControl class="editCtrl" BackgroundColor="[1.000 1.000 1.000]" FontAngle="normal" FontName="Arial" FontSize="10" FontWeight="normal" ForegroundColor="[0.000 0.000 0.000]" GenerateCallBack="false" HorizontalAlignment="left" Name="Edit_9" Position="[110 85 60 22]" String="0.00" TooltipString="">% This code will be executed when the control lost focus and text has
% been changed or when press the &quot;enter&quot; key.
% As default, all events are deactivated, to activate must set the
% propertie 'have callback' from the properties editor</uiControl>
        <uiControl class="textCtrl" BackgroundColor="[0.941 0.941 0.941]" FontAngle="normal" FontName="Arial" FontSize="10" FontWeight="normal" ForegroundColor="[0.000 0.000 0.000]" GenerateCallBack="false" HorizontalAlignment="left" isAutoSize="true" Name="Ref_Temp_Label" Position="[10 25 92 16]" String="Temperature (C)" TooltipString=""/>
        <uiControl class="textCtrl" BackgroundColor="[0.941 0.941 0.941]" FontAngle="normal" FontName="Arial" FontSize="10" FontWeight="normal" ForegroundColor="[0.000 0.000 0.000]" GenerateCallBack="false" HorizontalAlignment="left" isAutoSize="true" Name="Ref_Cur_Label" Position="[10 55 74 16]" String="Current (mA)" TooltipString=""/>
        <uiControl class="textCtrl" BackgroundColor="[0.941 0.941 0.941]" FontAngle="normal" FontName="Arial" FontSize="10" FontWeight="normal" ForegroundColor="[0.000 0.000 0.000]" GenerateCallBack="false" HorizontalAlignment="left" isAutoSize="true" Name="Ref_PWM_Label" Position="[10 85 101 16]" String="PWM Duty Cycle" TooltipString=""/>
    </uiControl>
    <uiControl class="groupPanel" BackgroundColor="[0.941 0.941 0.941]" BorderWidth="1" FontAngle="normal" FontName="Arial" FontSize="10" FontWeight="normal" ForegroundColor="[0.000 0.000 0.000]" Name="GroupPanel_3" Position="[1075 250 180 115]" Title="Test Sample Live Data" TitlePosition="lefttop">
        <ContainerSrc/>
        <uiControl class="editCtrl" BackgroundColor="[1.000 1.000 1.000]" FontAngle="normal" FontName="Arial" FontSize="10" FontWeight="normal" ForegroundColor="[0.000 0.000 0.000]" GenerateCallBack="false" HorizontalAlignment="left" Name="Edit_10" Position="[110 25 60 22]" String="0.00" TooltipString="">% This code will be executed when the control lost focus and text has
% been changed or when press the &quot;enter&quot; key.
% As default, all events are deactivated, to activate must set the
% propertie 'have callback' from the properties editor</uiControl>
        <uiControl class="editCtrl" BackgroundColor="[1.000 1.000 1.000]" FontAngle="normal" FontName="Arial" FontSize="10" FontWeight="normal" ForegroundColor="[0.000 0.000 0.000]" GenerateCallBack="false" HorizontalAlignment="left" Name="Edit_11" Position="[110 55 60 22]" String="0.00" TooltipString="">% This code will be executed when the control lost focus and text has
% been changed or when press the &quot;enter&quot; key.
% As default, all events are deactivated, to activate must set the
% propertie 'have callback' from the properties editor</uiControl>
        <uiControl class="editCtrl" BackgroundColor="[1.000 1.000 1.000]" FontAngle="normal" FontName="Arial" FontSize="10" FontWeight="normal" ForegroundColor="[0.000 0.000 0.000]" GenerateCallBack="false" HorizontalAlignment="left" Name="Edit_12" Position="[110 85 60 22]" String="0.00" TooltipString="">% This code will be executed when the control lost focus and text has
% been changed or when press the &quot;enter&quot; key.
% As default, all events are deactivated, to activate must set the
% propertie 'have callback' from the properties editor</uiControl>
        <uiControl class="textCtrl" BackgroundColor="[0.941 0.941 0.941]" FontAngle="normal" FontName="Arial" FontSize="10" FontWeight="normal" ForegroundColor="[0.000 0.000 0.000]" GenerateCallBack="false" HorizontalAlignment="left" isAutoSize="true" Name="Samp_Temp_Label" Position="[10 25 92 16]" String="Temperature (C)" TooltipString=""/>
        <uiControl class="textCtrl" BackgroundColor="[0.941 0.941 0.941]" FontAngle="normal" FontName="Arial" FontSize="10" FontWeight="normal" ForegroundColor="[0.000 0.000 0.000]" GenerateCallBack="false" HorizontalAlignment="left" isAutoSize="true" Name="Samp_Cur_Label" Position="[10 55 74 16]" String="Current (mA)" TooltipString=""/>
        <uiControl class="textCtrl" BackgroundColor="[0.941 0.941 0.941]" FontAngle="normal" FontName="Arial" FontSize="10" FontWeight="normal" ForegroundColor="[0.000 0.000 0.000]" GenerateCallBack="false" HorizontalAlignment="left" isAutoSize="true" Name="Samp_PWM_Label" Position="[10 85 101 16]" String="PWM Duty Cycle" TooltipString=""/>
    </uiControl>
    <uiControl class="textCtrl" BackgroundColor="[0.941 0.941 0.941]" FontAngle="normal" FontName="Arial" FontSize="10" FontWeight="normal" ForegroundColor="[0.000 0.000 0.000]" GenerateCallBack="false" HorizontalAlignment="left" isAutoSize="true" Name="Time_Label" Position="[1075 15 112 16]" String="Elapsed Time (sec)" TooltipString=""/>
    <uiControl class="textCtrl" BackgroundColor="[0.941 0.941 0.941]" FontAngle="normal" FontName="Arial" FontSize="10" FontWeight="normal" ForegroundColor="[0.000 0.000 0.000]" GenerateCallBack="false" HorizontalAlignment="left" isAutoSize="true" Name="Target_Temp_Label" Position="[1075 50 91 16]" String="Target Temp (C)" TooltipString=""/>
</dialog>
